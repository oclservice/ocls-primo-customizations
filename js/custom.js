!function r(i,o,a){function s(t,e){if(!o[t]){if(!i[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(c)return c(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}n=o[t]={exports:{}},i[t][0].call(n.exports,function(e){return s(i[t][1][e]||e)},n,n.exports,r,i,o,a)}return o[t].exports}for(var c="function"==typeof require&&require,e=0;e<a.length;e++)s(a[e]);return s}({1:[function(e,t,n){"use strict";function r(e,t){return(t=void 0===t?Object:t)&&"function"==typeof t.freeze?t.freeze(e):e}var i=r({HTML:"text/html",isHTML:function(e){return e===i.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),o=r({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(e){return e===o.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});n.assign=function(e,t){if(null===e||"object"!=typeof e)throw new TypeError("target is not an object");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},n.find=function(e,t,n){if(void 0===n&&(n=Array.prototype),e&&"function"==typeof n.find)return n.find.call(e,t);for(var r=0;r<e.length;r++)if(Object.prototype.hasOwnProperty.call(e,r)){var i=e[r];if(t.call(void 0,i,r,e))return i}},n.freeze=r,n.MIME_TYPE=i,n.NAMESPACE=o},{}],2:[function(e,t,n){var r=e("./conventions"),i=e("./dom"),l=e("./entities"),e=e("./sax"),o=i.DOMImplementation,u=r.NAMESPACE,a=e.ParseError,f=e.XMLReader;function d(e){return e.replace(/\r[\n\u0085]/g,"\n").replace(/[\r\u0085\u2028]/g,"\n")}function s(e){this.options=e||{locator:{}}}function p(){this.cdata=!1}function m(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function h(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function c(e,t,n){return"string"==typeof e?e.substr(t,n):e.length>=t+n||t?new java.lang.String(e,t,n)+"":e}function g(e,t){(e.currentElement||e.doc).appendChild(t)}s.prototype.parseFromString=function(e,t){var n=this.options,r=new f,i=n.domBuilder||new p,o=n.errorHandler,a=n.locator,s=n.xmlns||{},t=/\/x?html?$/.test(t),c=t?l.HTML_ENTITIES:l.XML_ENTITIES,o=(a&&i.setDocumentLocator(a),r.errorHandler=function(r,e,i){if(!r){if(e instanceof p)return e;r=e}var o={},a=r instanceof Function;function t(t){var n=r[t];!n&&a&&(n=2==r.length?function(e){r(t,e)}:r),o[t]=n?function(e){n("[xmldom "+t+"]\t"+e+h(i))}:function(){}}return i=i||{},t("warning"),t("error"),t("fatalError"),o}(o,i,a),r.domBuilder=n.domBuilder||i,t&&(s[""]=u.HTML),s.xml=s.xml||u.XML,n.normalizeLineEndings||d);return e&&"string"==typeof e?r.parse(o(e),s,c):r.errorHandler.error("invalid doc source"),i.doc},p.prototype={startDocument:function(){this.doc=(new o).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,n,r){var i=this.doc,o=i.createElementNS(e,n||t),a=r.length;g(this,o),this.currentElement=o,this.locator&&m(this.locator,o);for(var s=0;s<a;s++){var e=r.getURI(s),c=r.getValue(s),n=r.getQName(s),l=i.createAttributeNS(e,n);this.locator&&m(r.getLocator(s),l),l.value=l.nodeValue=c,o.setAttributeNode(l)}},endElement:function(e,t,n){var r=this.currentElement;r.tagName;this.currentElement=r.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){e=this.doc.createProcessingInstruction(e,t);this.locator&&m(this.locator,e),g(this,e)},ignorableWhitespace:function(e,t,n){},characters:function(e,t,n){var r;(e=c.apply(this,arguments))&&(r=this.cdata?this.doc.createCDATASection(e):this.doc.createTextNode(e),this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(e)&&this.doc.appendChild(r),this.locator)&&m(this.locator,r)},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,n){e=c.apply(this,arguments);var r=this.doc.createComment(e);this.locator&&m(this.locator,r),g(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,n){var r=this.doc.implementation;r&&r.createDocumentType&&(r=r.createDocumentType(e,t,n),this.locator&&m(this.locator,r),g(this,r),this.doc.doctype=r)},warning:function(e){console.warn("[xmldom warning]\t"+e,h(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,h(this.locator))},fatalError:function(e){throw new a(e,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(e){p.prototype[e]=function(){return null}}),n.__DOMHandler=p,n.normalizeLineEndings=d,n.DOMParser=s},{"./conventions":1,"./dom":3,"./entities":4,"./sax":6}],3:[function(e,P,t){var e=e("./conventions"),a=e.find,E=e.NAMESPACE;function U(e){return""!==e}function j(e,t){return e.hasOwnProperty(t)||(e[t]=!0),e}function c(e){return e?(e=(e=e)?e.split(/[\t\n\f\r ]+/).filter(U):[],Object.keys(e.reduce(j,{}))):[]}function i(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}function n(e,t){var n=e.prototype;function r(){}n instanceof t||(r.prototype=t.prototype,i(n,r=new r),e.prototype=n=r),n.constructor!=e&&("function"!=typeof e&&console.error("unknown Class:"+e),n.constructor=e)}var e={},r=(e.ELEMENT_NODE=1,e.ATTRIBUTE_NODE=2,e.TEXT_NODE=3,e.CDATA_SECTION_NODE=4,e.ENTITY_REFERENCE_NODE=5,e.ENTITY_NODE=6,e.PROCESSING_INSTRUCTION_NODE=7,e.COMMENT_NODE=8,e.DOCUMENT_NODE=9,e.DOCUMENT_TYPE_NODE=10,e.DOCUMENT_FRAGMENT_NODE=11,e.NOTATION_NODE=12,{}),o={},s=(r.INDEX_SIZE_ERR=(o[1]="Index size error",1),r.DOMSTRING_SIZE_ERR=(o[2]="DOMString size error",2),r.HIERARCHY_REQUEST_ERR=(o[3]="Hierarchy request error",3)),l=(r.WRONG_DOCUMENT_ERR=(o[4]="Wrong document",4),r.INVALID_CHARACTER_ERR=(o[5]="Invalid character",5),r.NO_DATA_ALLOWED_ERR=(o[6]="No data allowed",6),r.NO_MODIFICATION_ALLOWED_ERR=(o[7]="No modification allowed",7),r.NOT_FOUND_ERR=(o[8]="Not found",8));r.NOT_SUPPORTED_ERR=(o[9]="Not supported",9),r.INUSE_ATTRIBUTE_ERR=(o[10]="Attribute in use",10),r.INVALID_STATE_ERR=(o[11]="Invalid state",11),r.SYNTAX_ERR=(o[12]="Syntax error",12),r.INVALID_MODIFICATION_ERR=(o[13]="Invalid modification",13),r.NAMESPACE_ERR=(o[14]="Invalid namespace",14),r.INVALID_ACCESS_ERR=(o[15]="Invalid access",15);function u(e,t){var n;return t instanceof Error?n=t:(n=this,Error.call(this,o[e]),this.message=o[e],Error.captureStackTrace&&Error.captureStackTrace(this,u)),n.code=e,t&&(this.message=this.message+": "+t),n}function d(){}function f(e,t){this._node=e,this._refresh=t,p(this)}function p(e){var t,n=e._node._inc||e._node.ownerDocument._inc;e._inc!=n&&(t=e._refresh(e._node),ne(e,"length",t.length),i(t,e),e._inc=n)}function m(){}function k(e,t){for(var n=e.length;n--;)if(e[n]===t)return n}function X(e,t,n,r){r?t[k(t,r)]=n:t[t.length++]=n,e&&(t=(n.ownerElement=e).ownerDocument)&&(r&&B(t,e,r),r=e,e=n,(n=t)&&n._inc++,e.namespaceURI===E.XMLNS)&&(r._nsMap[e.prefix?e.localName:""]=e.value)}function q(e,t,n){var r=k(t,n);if(!(0<=r))throw new u(l,new Error(e.tagName+"@"+n));for(var i,o=t.length-1;r<o;)t[r]=t[++r];t.length=o,e&&(i=e.ownerDocument)&&(B(i,e,n),n.ownerElement=null)}function H(){}function h(){}function $(e){return("<"==e?"&lt;":">"==e&&"&gt;")||("&"==e?"&amp;":'"'==e&&"&quot;")||"&#"+e.charCodeAt()+";"}function g(e,t){if(t(e))return 1;if(e=e.firstChild)do{if(g(e,t))return 1}while(e=e.nextSibling)}function N(){this.ownerDocument=this}function B(e,t,n){e&&e._inc++,n.namespaceURI===E.XMLNS&&delete t._nsMap[n.prefix?n.localName:""]}function v(e,t,n){if(e&&e._inc){e._inc++;var r=t.childNodes;if(n)r[r.length++]=n;else{for(var i=t.firstChild,o=0;i;)i=(r[o++]=i).nextSibling;r.length=o,delete r[r.length]}}}function V(e,t){var n=t.previousSibling,r=t.nextSibling;return n?n.nextSibling=r:e.firstChild=r,r?r.previousSibling=n:e.lastChild=n,t.parentNode=null,t.previousSibling=null,t.nextSibling=null,v(e.ownerDocument,e),t}function y(e){return e&&e.nodeType===h.DOCUMENT_TYPE_NODE}function b(e){return e&&e.nodeType===h.ELEMENT_NODE}function _(e){return e&&e.nodeType===h.TEXT_NODE}function z(e,t){var n,e=e.childNodes||[];if(!a(e,b)&&!y(t))return n=a(e,y),!(t&&n&&e.indexOf(n)>e.indexOf(t))}function G(e,t){var n,e=e.childNodes||[];if(!a(e,function(e){return b(e)&&e!==t}))return n=a(e,y),!(t&&n&&e.indexOf(n)>e.indexOf(t))}function Y(e,t,n){if(!(r=e)||r.nodeType!==h.DOCUMENT_NODE&&r.nodeType!==h.DOCUMENT_FRAGMENT_NODE&&r.nodeType!==h.ELEMENT_NODE)throw new u(s,"Unexpected parent node type "+e.nodeType);var r;if(n&&n.parentNode!==e)throw new u(l,"child not in parent");if(!(r=t)||!(b(r)||_(r)||y(r)||r.nodeType===h.DOCUMENT_FRAGMENT_NODE||r.nodeType===h.COMMENT_NODE||r.nodeType===h.PROCESSING_INSTRUCTION_NODE)||y(t)&&e.nodeType!==h.DOCUMENT_NODE)throw new u(s,"Unexpected node type "+t.nodeType+" for parent node type "+e.nodeType)}function W(e,t,n){var r=e.childNodes||[],i=t.childNodes||[];if(t.nodeType===h.DOCUMENT_FRAGMENT_NODE){var o=i.filter(b);if(1<o.length||a(i,_))throw new u(s,"More than one element or text in fragment");if(1===o.length&&!z(e,n))throw new u(s,"Element in fragment can not be inserted before doctype")}if(b(t)&&!z(e,n))throw new u(s,"Only one element can be added and only after doctype");if(y(t)){if(a(r,y))throw new u(s,"Only one doctype is allowed");i=a(r,b);if(n&&r.indexOf(i)<r.indexOf(n))throw new u(s,"Doctype can only be inserted before an element");if(!n&&i)throw new u(s,"Doctype can not be appended since element is present")}}function Z(e,t,n){var r=e.childNodes||[],i=t.childNodes||[];if(t.nodeType===h.DOCUMENT_FRAGMENT_NODE){var o=i.filter(b);if(1<o.length||a(i,_))throw new u(s,"More than one element or text in fragment");if(1===o.length&&!G(e,n))throw new u(s,"Element in fragment can not be inserted before doctype")}if(b(t)&&!G(e,n))throw new u(s,"Only one element can be added and only after doctype");if(y(t)){if(a(r,function(e){return y(e)&&e!==n}))throw new u(s,"Only one doctype is allowed");i=a(r,b);if(n&&r.indexOf(i)<r.indexOf(n))throw new u(s,"Doctype can only be inserted before an element")}}function x(e,t,n,r){Y(e,t,n),e.nodeType===h.DOCUMENT_NODE&&(r||W)(e,t,n);r=t.parentNode;if(r&&r.removeChild(t),11===t.nodeType){var i=t.firstChild;if(null==i)return t;var o=t.lastChild}else i=o=t;r=n?n.previousSibling:e.lastChild;for(i.previousSibling=r,o.nextSibling=n,r?r.nextSibling=i:e.firstChild=i,null==n?e.lastChild=o:n.previousSibling=o;i.parentNode=e,i!==o&&(i=i.nextSibling););return v(e.ownerDocument||e,e),11==t.nodeType&&(t.firstChild=t.lastChild=null),t}function T(){this._nsMap={}}function w(){}function D(){}function O(){}function C(){}function A(){}function S(){}function Q(){}function J(){}function M(){}function I(){}function R(){}function K(){}function ee(e,t){var n,r=[],i=9==this.nodeType&&this.documentElement||this,o=i.prefix,a=i.namespaceURI;return F(this,r,e,t,n=a&&null==o&&null==i.lookupPrefix(a)?[{namespace:a,prefix:null}]:n),r.join("")}function te(e,t,n){var r=e.prefix||"",i=e.namespaceURI;if(i&&("xml"!==r||i!==E.XML)&&i!==E.XMLNS){for(var o=n.length;o--;){var a=n[o];if(a.prefix===r)return a.namespace!==i}return 1}}function L(e,t,n){e.push(" ",t,'="',n.replace(/[<>&"\t\n\r]/g,$),'"')}function F(e,t,n,r,i){if(i=i||[],r){if(!(e=r(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case 1:var o=e.attributes,a=o.length,s=e.firstChild,c=e.tagName,l=c;if(!(n=E.isHTML(e.namespaceURI)||n)&&!e.prefix&&e.namespaceURI){for(var u,f=0;f<o.length;f++)if("xmlns"===o.item(f).name){u=o.item(f).value;break}if(!u)for(var d=i.length-1;0<=d;d--)if(""===(p=i[d]).prefix&&p.namespace===e.namespaceURI){u=p.namespace;break}if(u!==e.namespaceURI)for(var p,d=i.length-1;0<=d;d--)if((p=i[d]).namespace===e.namespaceURI){p.prefix&&(l=p.prefix+":"+c);break}}t.push("<",l);for(var m=0;m<a;m++)"xmlns"==(h=o.item(m)).prefix?i.push({prefix:h.localName,namespace:h.value}):"xmlns"==h.nodeName&&i.push({prefix:"",namespace:h.value});for(var h,g,N,m=0;m<a;m++)te(h=o.item(m),0,i)&&(L(t,(g=h.prefix||"")?"xmlns:"+g:"xmlns",N=h.namespaceURI),i.push({prefix:g,namespace:N})),F(h,t,n,r,i);if(c===l&&te(e,0,i)&&(L(t,(g=e.prefix||"")?"xmlns:"+g:"xmlns",N=e.namespaceURI),i.push({prefix:g,namespace:N})),s||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(c)){if(t.push(">"),n&&/^script$/i.test(c))for(;s;)s.data?t.push(s.data):F(s,t,n,r,i.slice()),s=s.nextSibling;else for(;s;)F(s,t,n,r,i.slice()),s=s.nextSibling;t.push("</",l,">")}else t.push("/>");return;case 9:case 11:for(s=e.firstChild;s;)F(s,t,n,r,i.slice()),s=s.nextSibling;return;case 2:return L(t,e.name,e.value);case 3:return t.push(e.data.replace(/[<&>]/g,$));case 4:return t.push("<![CDATA[",e.data,"]]>");case 8:return t.push("\x3c!--",e.data,"--\x3e");case 10:var v=e.publicId,y=e.systemId;return t.push("<!DOCTYPE ",e.name),void(v?(t.push(" PUBLIC ",v),y&&"."!=y&&t.push(" ",y),t.push(">")):y&&"."!=y?t.push(" SYSTEM ",y,">"):((v=e.internalSubset)&&t.push(" [",v,"]"),t.push(">")));case 7:return t.push("<?",e.target," ",e.data,"?>");case 5:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function ne(e,t,n){e[t]=n}u.prototype=Error.prototype,i(r,u),d.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var n=[],r=0;r<this.length;r++)F(this[r],n,e,t);return n.join("")},filter:function(e){return Array.prototype.filter.call(this,e)},indexOf:function(e){return Array.prototype.indexOf.call(this,e)}},f.prototype.item=function(e){return p(this),this[e]},n(f,d),m.prototype={length:0,item:d.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new u(10);t=this.getNamedItem(e.nodeName);return X(this._ownerElement,this,e,t),t},setNamedItemNS:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new u(10);return t=this.getNamedItemNS(e.namespaceURI,e.localName),X(this._ownerElement,this,e,t),t},removeNamedItem:function(e){e=this.getNamedItem(e);return q(this._ownerElement,this,e),e},removeNamedItemNS:function(e,t){e=this.getNamedItemNS(e,t);return q(this._ownerElement,this,e),e},getNamedItemNS:function(e,t){for(var n=this.length;n--;){var r=this[n];if(r.localName==t&&r.namespaceURI==e)return r}return null}},H.prototype={hasFeature:function(e,t){return!0},createDocument:function(e,t,n){var r=new N;return r.implementation=this,r.childNodes=new d,r.doctype=n||null,n&&r.appendChild(n),t&&(n=r.createElementNS(e,t),r.appendChild(n)),r},createDocumentType:function(e,t,n){var r=new S;return r.name=e,r.nodeName=e,r.publicId=t||"",r.systemId=n||"",r}},h.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return x(this,e,t)},replaceChild:function(e,t){x(this,e,t,Z),t&&this.removeChild(t)},removeChild:function(e){return V(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return function e(t,n,r){var i=new n.constructor;for(var o in n){var a;Object.prototype.hasOwnProperty.call(n,o)&&"object"!=typeof(a=n[o])&&a!=i[o]&&(i[o]=a)}n.childNodes&&(i.childNodes=new d);i.ownerDocument=t;switch(i.nodeType){case 1:var s=n.attributes,c=i.attributes=new m,l=s.length;c._ownerElement=i;for(var u=0;u<l;u++)i.setAttributeNode(e(t,s.item(u),!0));break;case 2:r=!0}if(r)for(var f=n.firstChild;f;)i.appendChild(e(t,f,r)),f=f.nextSibling;return i}(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&3==t.nodeType&&3==e.nodeType?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return 0<this.attributes.length},lookupPrefix:function(e){for(var t=this;t;){var n=t._nsMap;if(n)for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)&&n[r]===e)return r;t=2==t.nodeType?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&Object.prototype.hasOwnProperty.call(n,e))return n[e];t=2==t.nodeType?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},i(e,h),i(e,h.prototype),N.prototype={nodeName:"#document",nodeType:9,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(11==e.nodeType)for(var n=e.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,t),n=r}else x(this,e,t),null===(e.ownerDocument=this).documentElement&&1===e.nodeType&&(this.documentElement=e);return e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),V(this,e)},replaceChild:function(e,t){x(this,e,t,Z),e.ownerDocument=this,t&&this.removeChild(t),b(e)&&(this.documentElement=e)},importNode:function(e,t){return function e(t,n,r){var i;switch(n.nodeType){case 1:(i=n.cloneNode(!1)).ownerDocument=t;case 11:break;case 2:r=!0}i=i||n.cloneNode(!1);i.ownerDocument=t;i.parentNode=null;if(r)for(var o=n.firstChild;o;)i.appendChild(e(t,o,r)),o=o.nextSibling;return i}(this,e,t)},getElementById:function(t){var n=null;return g(this.documentElement,function(e){if(1==e.nodeType&&e.getAttribute("id")==t)return n=e,!0}),n},getElementsByClassName:function(a){var s=c(a);return new f(this,function(i){var o=[];return 0<s.length&&g(i.documentElement,function(e){var t,n,r;e!==i&&1===e.nodeType&&(t=e.getAttribute("class"))&&((n=a===t)||(t=c(t),n=s.every((r=t,function(e){return r&&-1!==r.indexOf(e)}))),n)&&o.push(e)}),o})},createElement:function(e){var t=new T;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=new d,(t.attributes=new m)._ownerElement=t},createDocumentFragment:function(){var e=new I;return e.ownerDocument=this,e.childNodes=new d,e},createTextNode:function(e){var t=new O;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new C;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new A;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new R;return n.ownerDocument=this,n.tagName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new w;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new M;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new T,r=t.split(":"),i=n.attributes=new m;return n.childNodes=new d,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,i._ownerElement=n},createAttributeNS:function(e,t){var n=new w,r=t.split(":");return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,n}},n(N,h),N.prototype.getElementsByTagName=(T.prototype={nodeType:1,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){e=this.getAttributeNode(e);return e&&e.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){e=this.ownerDocument.createAttribute(e);e.value=e.nodeValue=""+t,this.setAttributeNode(e)},removeAttribute:function(e){e=this.getAttributeNode(e);e&&this.removeAttributeNode(e)},appendChild:function(e){return 11===e.nodeType?this.insertBefore(e,null):(t=this,(e=e).parentNode&&e.parentNode.removeChild(e),e.parentNode=t,e.previousSibling=t.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:t.firstChild=e,t.lastChild=e,v(t.ownerDocument,t,e),e);var t},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){e=this.getAttributeNodeNS(e,t);e&&this.removeAttributeNode(e)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){e=this.getAttributeNodeNS(e,t);return e&&e.value||""},setAttributeNS:function(e,t,n){e=this.ownerDocument.createAttributeNS(e,t);e.value=e.nodeValue=""+n,this.setAttributeNode(e)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(r){return new f(this,function(t){var n=[];return g(t,function(e){e===t||1!=e.nodeType||"*"!==r&&e.tagName!=r||n.push(e)}),n})},getElementsByTagNameNS:function(r,i){return new f(this,function(t){var n=[];return g(t,function(e){e===t||1!==e.nodeType||"*"!==r&&e.namespaceURI!==r||"*"!==i&&e.localName!=i||n.push(e)}),n})}}).getElementsByTagName,N.prototype.getElementsByTagNameNS=T.prototype.getElementsByTagNameNS,n(T,h),w.prototype.nodeType=2,n(w,h),D.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(o[s])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){var r=this.data.substring(0,e),e=this.data.substring(e+t);this.nodeValue=this.data=n=r+n+e,this.length=n.length}},n(D,h),O.prototype={nodeName:"#text",nodeType:3,splitText:function(e){var t=(n=this.data).substring(e),n=n.substring(0,e),e=(this.data=this.nodeValue=n,this.length=n.length,this.ownerDocument.createTextNode(t));return this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling),e}},n(O,D),C.prototype={nodeName:"#comment",nodeType:8},n(C,D),A.prototype={nodeName:"#cdata-section",nodeType:4},n(A,D),S.prototype.nodeType=10,n(S,h),Q.prototype.nodeType=12,n(Q,h),J.prototype.nodeType=6,n(J,h),M.prototype.nodeType=5,n(M,h),I.prototype.nodeName="#document-fragment",I.prototype.nodeType=11,n(I,h),R.prototype.nodeType=7,n(R,h),K.prototype.serializeToString=function(e,t,n){return ee.call(e,t,n)},h.prototype.toString=ee;try{Object.defineProperty&&(Object.defineProperty(f.prototype,"length",{get:function(){return p(this),this.$$length}}),Object.defineProperty(h.prototype,"textContent",{get:function(){return function e(t){switch(t.nodeType){case 1:case 11:var n=[];for(t=t.firstChild;t;)7!==t.nodeType&&8!==t.nodeType&&n.push(e(t)),t=t.nextSibling;return n.join("");default:return t.nodeValue}}(this)},set:function(e){switch(this.nodeType){case 1:case 11:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),ne=function(e,t,n){e["$$"+t]=n})}catch(e){}t.DocumentType=S,t.DOMException=u,t.DOMImplementation=H,t.Element=T,t.Node=h,t.NodeList=d,t.XMLSerializer=K},{"./conventions":1}],4:[function(e,t,n){e=e("./conventions").freeze;n.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),n.HTML_ENTITIES=e({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",times:"×",divide:"÷",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",fnof:"ƒ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",bull:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",euro:"€",trade:"™",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦"}),n.entityMap=n.HTML_ENTITIES},{"./conventions":1}],5:[function(e,t,n){var r=e("./dom");n.DOMImplementation=r.DOMImplementation,n.XMLSerializer=r.XMLSerializer,n.DOMParser=e("./dom-parser").DOMParser},{"./dom":3,"./dom-parser":2}],6:[function(e,t,n){var S=e("./conventions").NAMESPACE,e=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,r=new RegExp("[\\-\\.0-9"+e.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),i=new RegExp("^"+e.source+r.source+"*(?::"+e.source+r.source+"*)?$"),M=0,I=1,R=2,L=3,F=4,P=5,U=6,j=7;function k(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,k)}function o(){}function X(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function q(e,t,n){for(var r=e.tagName,i=null,o=e.length;o--;){var a=e[o],s=a.qName,c=a.value,s=0<(u=s.indexOf(":"))?(l=a.prefix=s.slice(0,u),f=s.slice(u+1),"xmlns"===l&&f):(l=null,"xmlns"===(f=s)&&"");a.localName=f,!1!==s&&(null==i&&(i={},p(n,n={})),n[s]=i[s]=c,a.uri=S.XMLNS,t.startPrefixMapping(s,c))}for(var l,o=e.length;o--;)(l=(a=e[o]).prefix)&&("xml"===l&&(a.uri=S.XML),"xmlns"!==l)&&(a.uri=n[l||""]);var u,f=0<(u=r.indexOf(":"))?(l=e.prefix=r.slice(0,u),e.localName=r.slice(u+1)):(l=null,e.localName=r),d=e.uri=n[l||""];if(t.startElement(d,f,r,e),!e.closed)return e.currentNSMap=n,e.localNSMap=i,1;if(t.endElement(d,f,r),i)for(l in i)Object.prototype.hasOwnProperty.call(i,l)&&t.endPrefixMapping(l)}function p(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}function H(){this.attributeNames={}}(k.prototype=new Error).name=k.name,o.prototype={parse:function(e,t,n){var r=this.domBuilder;r.startDocument(),p(t,t={}),function(n,e,r,i,o){function a(e){var t=e.slice(1,-1);return Object.hasOwnProperty.call(r,t)?r[t]:"#"===t.charAt(0)?65535<(t=parseInt(t.substr(1).replace("x","0x")))?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):String.fromCharCode(t):(o.error("entity not found:"+e),e)}function t(e){var t;m<e&&(t=n.substring(m,e).replace(/&#?\w+;/g,a),f&&s(m),i.characters(t,0,e-m),m=e)}function s(e,t){for(;l<=e&&(t=u.exec(n));)c=t.index,l=c+t[0].length,f.lineNumber++;f.columnNumber=e-c+1}var c=0,l=0,u=/.*(?:\r\n?|\n)|.*$/g,f=i.locator,d=[{currentNSMap:e}],p={},m=0;for(;;){try{var h,g,N=n.indexOf("<",m);if(N<0)return n.substr(m).match(/^\s*$/)||(h=i.doc,g=h.createTextNode(n.substr(m)),h.appendChild(g),i.currentElement=g);switch(m<N&&t(N),n.charAt(N+1)){case"/":var v=n.indexOf(">",N+3),y=n.substring(N+2,v).replace(/[ \t\n\r]+$/g,""),E=d.pop(),b=(v<0?(y=n.substring(N+2).replace(/[\s<].*/,""),o.error("end tag name: "+y+" is not complete:"+E.tagName),v=N+1+y.length):y.match(/\s</)&&(y=y.replace(/[\s<].*/,""),o.error("end tag name: "+y+" maybe not complete"),v=N+1+y.length),E.localNSMap),_=E.tagName==y;if(_||E.tagName&&E.tagName.toLowerCase()==y.toLowerCase()){if(i.endElement(E.uri,E.localName,y),b)for(var x in b)Object.prototype.hasOwnProperty.call(b,x)&&i.endPrefixMapping(x);_||o.fatalError("end tag name: "+y+" is not match the current start tagName:"+E.tagName)}else d.push(E);v++;break;case"?":f&&s(N),v=function(e,t,n){var r=e.indexOf("?>",t);if(r){e=e.substring(t,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(e)return e[0].length,n.processingInstruction(e[1],e[2]),r+2}return-1}(n,N,i);break;case"!":f&&s(N),v=function(e,t,n,r){{if("-"===e.charAt(t+2))return"-"===e.charAt(t+3)?(o=e.indexOf("--\x3e",t+4),t<o?(n.comment(e,t+4,o-t-4),o+3):(r.error("Unclosed comment"),-1)):-1;if("CDATA["==e.substr(t+3,6))return o=e.indexOf("]]>",t+9),n.startCDATA(),n.characters(e,t+9,o-t-9),n.endCDATA(),o+3;var i,r=function(e,t){var n,r=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;i.lastIndex=t,i.exec(e);for(;n=i.exec(e);)if(r.push(n),n[1])return r}(e,t),o=r.length;if(1<o&&/!doctype/i.test(r[0][0]))return e=r[1][0],i=t=!1,3<o&&(/^public$/i.test(r[2][0])?(t=r[3][0],i=4<o&&r[4][0]):/^system$/i.test(r[2][0])&&(i=r[3][0])),r=r[o-1],n.startDTD(e,t,i),n.endDTD(),r.index+r[0].length}return-1}(n,N,i,o);break;default:f&&s(N);var T=new H,w=d[d.length-1].currentNSMap,v=function(e,t,r,n,i,o){function a(e,t,n){r.attributeNames.hasOwnProperty(e)&&o.fatalError("Attribute "+e+" redefined"),r.addValue(e,t.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,i),n)}var s,c=++t,l=M;for(;;){var u=e.charAt(c);switch(u){case"=":if(l===I)s=e.slice(t,c);else if(l!==R)throw new Error("attribute equal must after attrName");l=L;break;case"'":case'"':if(l===L||l===I){if(l===I&&(o.warning('attribute value must after "="'),s=e.slice(t,c)),t=c+1,!(0<(c=e.indexOf(u,t))))throw new Error("attribute value no end '"+u+"' match");f=e.slice(t,c),a(s,f,t-1)}else{if(l!=F)throw new Error('attribute value must after "="');f=e.slice(t,c),a(s,f,t),o.warning('attribute "'+s+'" missed start quot('+u+")!!"),t=c+1}l=P;break;case"/":switch(l){case M:r.setTagName(e.slice(t,c));case P:case U:case j:l=j,r.closed=!0;case F:case I:break;case R:r.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return o.error("unexpected end of input"),l==M&&r.setTagName(e.slice(t,c)),c;case">":switch(l){case M:r.setTagName(e.slice(t,c));case P:case U:case j:break;case F:case I:"/"===(f=e.slice(t,c)).slice(-1)&&(r.closed=!0,f=f.slice(0,-1));case R:l===R&&(f=s),l==F?(o.warning('attribute "'+f+'" missed quot(")!'),a(s,f,t)):(S.isHTML(n[""])&&f.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+f+'" missed value!! "'+f+'" instead!!'),a(f,f,t));break;case L:throw new Error("attribute value missed!!")}return c;case"":u=" ";default:if(u<=" ")switch(l){case M:r.setTagName(e.slice(t,c)),l=U;break;case I:s=e.slice(t,c),l=R;break;case F:var f=e.slice(t,c);o.warning('attribute "'+f+'" missed quot(")!!'),a(s,f,t);case P:l=U}else switch(l){case R:r.tagName;S.isHTML(n[""])&&s.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+s+'" missed value!! "'+s+'" instead2!!'),a(s,s,t),t=c,l=I;break;case P:o.warning('attribute space is required"'+s+'"!!');case U:l=I,t=c;break;case L:l=F,t=c;break;case j:throw new Error("elements closed character '/' and '>' must be connected to")}}c++}}(n,N,T,w,a,o),D=T.length;if(!T.closed&&function(e,t,n,r){var i=r[n];null==i&&((i=e.lastIndexOf("</"+n+">"))<t&&(i=e.lastIndexOf("</"+n)),r[n]=i);return i<t}(n,v,T.tagName,p)&&(T.closed=!0,r.nbsp||o.warning("unclosed xml attribute")),f&&D){for(var O=X(f,{}),C=0;C<D;C++){var A=T[C];s(A.offset),A.locator=X(f,{})}i.locator=O,q(T,i,w)&&d.push(T),i.locator=f}else q(T,i,w)&&d.push(T);S.isHTML(T.uri)&&!T.closed?v=function(e,t,n,r,i){if(/^(?:script|textarea)$/i.test(n)){var o=e.indexOf("</"+n+">",t),e=e.substring(t+1,o);if(/[&<]/.test(e))return/^script$/i.test(n)?i.characters(e,0,e.length):(e=e.replace(/&#?\w+;/g,r),i.characters(e,0,e.length)),o}return t+1}(n,v,T.tagName,a,i):v++}}catch(e){if(e instanceof k)throw e;o.error("element parse error: "+e),v=-1}m<v?m=v:t(Math.max(N,m)+1)}}(e,t,n,r,this.errorHandler),r.endDocument()}},H.prototype={setTagName:function(e){if(!i.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,n){if(!i.test(e))throw new Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:n}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},n.XMLReader=o,n.ParseError=k},{"./conventions":1}],7:[function(n,r,e){!function(e,t){"use strict";"function"==typeof define&&define.amd?define([],t):"object"==typeof r&&r.exports?r.exports=t(n("@xmldom/xmldom").DOMParser):e.X2JS=t()}(this,function(E){"use strict";return function(p){function e(e){e=String(e);return e=1===e.length?"0"+e:e}(p=p||{}).arrayAccessForm=p.arrayAccessForm||"none",p.emptyNodeForm=p.emptyNodeForm||"text",p.jsAttributeFilter=p.jsAttributeFilter,p.jsAttributeConverter=p.jsAttributeConverter,p.attributeConverters=p.attributeConverters||[],p.datetimeAccessFormPaths=p.datetimeAccessFormPaths||[],p.arrayAccessFormPaths=p.arrayAccessFormPaths||[],p.xmldomOptions=p.xmldomOptions||{},void 0===p.enableToStringFunc&&(p.enableToStringFunc=!0),void 0===p.skipEmptyTextNodesForObj&&(p.skipEmptyTextNodesForObj=!0),void 0===p.stripWhitespaces&&(p.stripWhitespaces=!0),void 0===p.useDoubleQuotes&&(p.useDoubleQuotes=!0),void 0===p.ignoreRoot&&(p.ignoreRoot=!1),void 0===p.escapeMode&&(p.escapeMode=!0),void 0===p.attributePrefix&&(p.attributePrefix="_"),void 0===p.selfClosingElements&&(p.selfClosingElements=!0),void 0===p.keepCData&&(p.keepCData=!1),void 0===p.keepText&&(p.keepText=!1),void 0===p.jsDateUTC&&(p.jsDateUTC=!1),"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|^\n+|(\s|\n)+$/g,"")}),"function"!=typeof Date.prototype.toISOString&&(Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"});var m={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};function h(e){var t=e.localName;return t=null!=(t=null==t?e.baseName:t)&&""!==t?t:e.nodeName}function c(e){return"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"):e}function g(e,t,n){if("property"===p.arrayAccessForm&&(e[t]instanceof Array?e[t+"_asArray"]=e[t]:e[t+"_asArray"]=[e[t]]),!(e[t]instanceof Array)&&0<p.arrayAccessFormPaths.length){for(var r=!1,i=0;i<p.arrayAccessFormPaths.length;i++){var o=p.arrayAccessFormPaths[i];if("string"==typeof o){if(o===n){r=!0;break}}else if(o instanceof RegExp){if(o.test(n)){r=!0;break}}else if("function"==typeof o&&o(t,n)){r=!0;break}}r&&(e[t]=[e[t]])}}function N(e){var t=e.split(/[-T:+Z]/g),n=new Date(t[0],t[1]-1,t[2]),r=t[5].split(".");return n.setHours(t[3],t[4],r[0]),1<r.length&&n.setMilliseconds(r[1]),t[6]&&t[7]?(r=60*t[6]+Number(t[7]),r=0+("-"==(/\d\d-\d\d:\d\d$/.test(e)?"-":"+")?-1*r:r),n.setMinutes(n.getMinutes()-r-n.getTimezoneOffset())):-1!==e.indexOf("Z",e.length-1)&&(n=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()))),n}function s(e,t){for(var n={__cnt:0},r=e.childNodes,i=0;i<r.length;i++){var o=r.item(i),a=h(o);o.nodeType!==m.COMMENT_NODE&&(n.__cnt++,null==n[a]?(n[a]=v(o,t+"."+a),g(n,a,t+"."+a)):(n[a]instanceof Array||(n[a]=[n[a]],g(n,a,t+"."+a)),n[a][n[a].length]=v(o,t+"."+a)))}for(var s=0;s<e.attributes.length;s++){for(var c=e.attributes.item(s),l=(n.__cnt++,c.value),u=0;u<p.attributeConverters.length;u++){var f=p.attributeConverters[u];f.test.call(null,c.name,c.value)&&(l=f.convert.call(null,c.name,c.value))}n[p.attributePrefix+c.name]=l}var d=e.prefix;return d&&(n.__cnt++,n.__prefix=d),n["#text"]&&(n.__text=n["#text"],n.__text instanceof Array&&(n.__text=n.__text.join("\n")),p.escapeMode&&(n.__text=n.__text.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&amp;/g,"&")),p.stripWhitespaces&&(n.__text=n.__text.trim()),delete n["#text"],"property"===p.arrayAccessForm&&delete n["#text_asArray"],n.__text=function(e,t){if(0<p.datetimeAccessFormPaths.length)for(var n=t.split(".#")[0],r=0;r<p.datetimeAccessFormPaths.length;r++){var i=p.datetimeAccessFormPaths[r];if("string"==typeof i){if(i===n)return N(e)}else if(i instanceof RegExp){if(i.test(n))return N(e)}else if("function"==typeof i&&i(n))return N(e)}return e}(n.__text,t+".#text")),n.hasOwnProperty("#cdata-section")&&(n.__cdata=n["#cdata-section"],delete n["#cdata-section"],"property"===p.arrayAccessForm)&&delete n["#cdata-section_asArray"],1===n.__cnt&&n.__text&&!p.keepText?n=n.__text:0===n.__cnt&&"text"===p.emptyNodeForm?n="":1<n.__cnt&&void 0!==n.__text&&p.skipEmptyTextNodesForObj&&(p.stripWhitespaces&&""===n.__text||""===n.__text.trim())&&delete n.__text,delete n.__cnt,p.keepCData||n.hasOwnProperty("__text")||!n.hasOwnProperty("__cdata")||1!==Object.keys(n).length?(p.enableToStringFunc&&(n.__text||n.__cdata)&&(n.toString=function(){return(this.__text||"")+(this.__cdata||"")}),n):n.__cdata||""}function v(e,t){if(e.nodeType!==m.DOCUMENT_NODE)return e.nodeType===m.ELEMENT_NODE?s(e,t):e.nodeType===m.TEXT_NODE||e.nodeType===m.CDATA_SECTION_NODE?e.nodeValue:null;for(var n={},r=e.childNodes,i=0;i<r.length;i++){var o,a=r.item(i);a.nodeType===m.ELEMENT_NODE&&(o=h(a),p.ignoreRoot?n=v(a,o):n[o]=v(a,o))}return n}function o(e,t,n,r){var i="<"+(e&&e.__prefix?e.__prefix+":":"")+t;if(n)for(var o=0;o<n.length;o++){var a=n[o],s=e[a];p.escapeMode&&(s=c(s)),i+=" "+a.substr(p.attributePrefix.length)+"=",p.useDoubleQuotes?i+='"'+s+'"':i+="'"+s+"'"}return i+=r?" />":">"}function i(e,t){return"</"+(e&&e.__prefix?e.__prefix+":":"")+t+">"}function a(e,t){return"property"===p.arrayAccessForm&&(n=t.toString(),r="_asArray",-1!==n.indexOf(r,n.length-r.length))||0===t.toString().indexOf(p.attributePrefix)||0===t.toString().indexOf("__")||e[t]instanceof Function;var n,r}function l(e){var t=0;if(e instanceof Object)for(var n in e)a(e,n)||t++;return t}function u(e){var t=[];if(e instanceof Object)for(var n in e)-1===n.toString().indexOf("__")&&0===n.toString().indexOf(p.attributePrefix)&&t.push(n);return t}function f(e){var t,n,r="";return e instanceof Object?r+=(n="",(t=e).__cdata&&(n+="<![CDATA["+t.__cdata+"]]>"),!t.__text&&"number"!=typeof t.__text&&"boolean"!=typeof t.__text||(p.escapeMode?n+=c(t.__text):n+=t.__text),n):null!==e&&(p.escapeMode?r+=c(e):r+=e),r}function d(e,t,n){var r="";return p.jsAttributeFilter&&p.jsAttributeFilter.call(null,t,e)||(null!=(e=p.jsAttributeConverter?p.jsAttributeConverter.call(null,t,e):e)&&""!==e||!p.selfClosingElements?"object"==typeof e?"[object Array]"===Object.prototype.toString.call(e)?r+=function(e,t,n){var r="";if(0===e.length)r+=o(e,t,n,!0);else for(var i=0;i<e.length;i++)r+=d(e[i],t,u(e[i]));return r}(e,t,n):e instanceof Date?r=(r=(r+=o(e,t,n,!1))+(p.jsDateUTC?e.toUTCString():e.toISOString()))+i(e,t):0<l(e)||"number"==typeof e.__text||"boolean"==typeof e.__text||e.__text||e.__cdata?r=(r=(r+=o(e,t,n,!1))+y(e))+i(e,t):p.selfClosingElements?r+=o(e,t,n,!0):r=(r+=o(e,t,n,!1))+i(e,t):r=(r=(r+=o(e,t,n,!1))+f(e))+i(e,t):r+=o(e,t,n,!0)),r}function y(e){var t,n="";if(0<l(e))for(var r in e)a(e,r)||(n+=d(t=e[r],r,u(t)));return n+=f(e)}function t(e){if(void 0===e)return null;if("string"!=typeof e)return null;var t=null,n=null;if(E)n=(t=new E(p.xmldomOptions)).parseFromString(e,"text/xml");else if(window&&window.DOMParser){var t=new window.DOMParser,r=null;if(!(window.ActiveXObject||"ActiveXObject"in window)&&document.all&&!document.addEventListener)try{r=t.parseFromString("INVALID","text/xml").childNodes[0].namespaceURI}catch(e){r=null}try{n=t.parseFromString(e,"text/xml"),null!==r&&0<n.getElementsByTagNameNS(r,"parsererror").length&&(n=null)}catch(e){n=null}}else 0===e.indexOf("<?")&&(e=e.substr(e.indexOf("?>")+2)),(n=new ActiveXObject("Microsoft.XMLDOM")).async="false",n.loadXML(e);return n}this.asArray=function(e){return null==e?[]:e instanceof Array?e:[e]},this.toXmlDateTime=function(e){return e instanceof Date?e.toISOString():"number"==typeof e?new Date(e).toISOString():null},this.asDateTime=function(e){return"string"==typeof e?N(e):e},this.xml2dom=t,this.dom2js=function(e){return v(e,null)},this.js2dom=function(e){return t(this.js2xml(e))},this.xml2js=function(e){e=t(e);return null!=e?this.dom2js(e):null},this.js2xml=y,this.getVersion=function(){return"3.4.4"}}})},{"@xmldom/xmldom":5}],8:[function(e,t,n){"use strict";e("./ocls-clear-display");angular.module("viewCustom",["angularLoad","oclsClearDisplay"])},{"./ocls-clear-display":9}],9:[function(e,t,n){"use strict";var e=e("x2js"),a=(e=e)&&e.__esModule?e:{default:e};angular.module("oclsClearDisplay",[]).factory("oclsClearService",["$http","$sce",function(i,o){return{fetchOurData:function(e,t,n){var e=e+"api/?tag="+t,r=new a.default;return o.trustAsResourceUrl(e),i.get(e).then(function(e){return r.xml2js(e.data)},function(e){var t;return 404!==e.status&&(t="an error occured: oclsClearService callback: "+e.status,e.data&&e.data.errorMessage&&(t+=" - "+e.data.errorMessage),console.error(t)),null})}}}]).controller("oclsClearDisplayController",["$scope","oclsClearService",function(e,a){function s(e,t){return"<dt>"+e+'</dt><dd class="ocls-clear-term-'+t+'">'+t+"</dd>"}var n=this;this.$onInit=function(){e.$watch(function(){return angular.isDefined(n.parentCtrl.services)?n.parentCtrl.services:0},function(){if(angular.isDefined(n.parentCtrl.services)){console.log("OCLS CLEAR display start");for(var e,o=n.parentCtrl.services,t=0;t<o.length;t++)!function(n){var r,i;console.log(n),console.log(o[n]),(e=o[n].publicNote.match(/href="(.+\.scholarsportal\.info\/licenses\/)([^"]+)\"/))&&(console.log("Found CLEAR link"),r=e[1],console.log(r),i=e[2],console.log(i),a.fetchOurData(r,i,n).then(function(e){try{var t;e&&(console.log(e),t='<a href="'+r+i+'">Permitted uses (click for more):</a><dl class="ocls-clear-display">',e.license.e_reserves&&(t+=s("E-Reserve?",e.license.e_reserves.usage)),e.license.cms&&(t+=s("CMS?",e.license.cms.usage)),e.license.course_pack&&(t+=s("Course packs?",e.license.course_pack.usage)),e.license.durable_url&&(t+=s("Link?",e.license.durable_url.usage)),e.license.ill_print&&(t+=s("ILL?",e.license.ill_print.usage)),t+="</dl></a>",o[n].publicNote=t)}catch(e){console.error("an error occured: oclsClearDisplayController:\n\n"),console.error(e.message)}}))}(t)}})}}]).component("prmAlmaViewitItemsAfter",{bindings:{parentCtrl:"<"},controller:"oclsClearDisplayController"})},{x2js:7}]},{},[8]);
//# sourceMappingURL=custom.js.map
